function out=rgb2yuv(a)
a = double(a);
r=a(:,:,1);
g=a(:,:,2);
b=a(:,:,3);
wr=0.299;
wb=0.114;
wg=1-wr-wb;
%umax=0.436;
%vmax=0.615;
umax = 0.5;
vmax = 0.5;
Y= wr*r +wg*g+wb*b;
U= umax*((b-Y)/(1-wb));
V=vmax* ((r-Y)/(1-wr));
U = U + 127.5;
V = V + 127.5;
out(:,:,1)=Y;
out(:,:,2)=U;
out(:,:,3)=V;